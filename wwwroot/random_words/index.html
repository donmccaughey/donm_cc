<!doctype html>
<html lang=en>
<meta charset=utf-8>
<meta name=viewport content='initial-scale=0.9, width=device-width'>
<title>Random Words</title>
<style>
    a {
        color: mediumblue;
    }
    a:visited {
        color: indigo;
    }
    @media (prefers-color-scheme: dark) {
        a {
            color: powderblue;
        }

        a:visited {
            color: violet;
        }
    }
    body, html {
        background: white;
        border: 0;
        color: black;
        font: 12pt Helvetica, Arial, sans-serif;
        margin: 0;
        padding: 0;
    }
    @media (prefers-color-scheme: dark) {
        body, html {
            background: black;
            color: white;
        }
    }
    body {
        padding-top: 24pt; 
        padding-bottom: 1em;
    }
    footer {
        background: white;
        border-top: 1pt solid dimgray;
        color: dimgray;
        font-size: 11pt;
        margin: 1.5em 0 0 0;
        padding: 1em 0;
        text-align: center;
    }
    footer a {
        color: gray;
    }
    @media (prefers-color-scheme: dark) {
        footer {
            background: black;
            border-top: 1pt solid whitesmoke;
            color: whitesmoke;
        }

        footer a {
            color: silver;
        }
    }
    h1 {
        border: 0;
        font-size: 18pt;
        font-weight: 500;
        margin: 0.5em 0;
        padding: 0;
    }
    h2:before {
        content: "¬ß" " ";
    }
    h2 {
        border: 0;
        font-size: 14pt;
        font-weight: 500;
        margin: 0.5em 0;
        padding: 0;
    }
    h3 {
        border: 0;
        font-size: 12pt;
        font-weight: 500;
        margin: 0.5em 0;
        padding: 0;
    }
    li {
        margin-bottom: 0.5em;
    }
    pre {
        background: whitesmoke;
        border: 0;
        color: black;
        font: 11pt ui-monospace, monospace;
        line-height: 150%;
        margin: 0;
        overflow: auto;
        padding: 1em;
    }
    @media (prefers-color-scheme: dark) {
        pre {
            background: dimgray;
            color: white;
        }
    }
    section {
        border: 0;
        margin: 1.5em auto 0 auto;
        max-width: 40em;
        padding: 0 1em;
    }
    time {
        white-space: nowrap;
    }
    .authors {
        color: gray;
        font: italic 12pt Helvetica, Arial, sans-serif;
    }
    @media (prefers-color-scheme: dark) {
        .authors {
            color: silver;
        }
    }
    .banner {
        border: 0;
        margin: 0;
        padding: 0;
        position: relative;
        width: 100%;
    }
    .banner img {
        border: 0;
        margin: 0;
        padding: 0;
        width: 100%;
    }
    .banner .caption {
        color: whitesmoke;
        right: 1em;
        position: absolute;
        top: 0.67em;
    }
    .banner .lower-caption {
        bottom: 0.67em;
        color: whitesmoke;
        right: 1em;
        position: absolute;
    }
    .collection {
        border: 0;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    .collection h1 {
        color: dimgray;
        font-size: 16pt;
    }
    @media (prefers-color-scheme: dark) {
        .collection h1 {
            color: whitesmoke;
        }
    }
    .data_table {
        border-collapse: collapse;
    }
    .data_table th, .data_table td {
        border: thin solid black;
        padding: 0.25em;
        text-align: center;
    }
    @media (prefers-color-scheme: dark) {
        .data_table th, .data_table td {
            border: thin solid white;
        }
    }
    .item {
        background: whitesmoke;
        border: 1pt solid silver;
        color: black;
        display: inline-block;
        line-height: 150%;
        margin: 1em;
        padding: 0;
        text-align: center;
    }
    .item:hover {
        border: 1pt solid black;
    }
    .item a {
        border: 0;
        color: black;
        display: inline-block;
        margin: 0;
        padding: 0.5em 1em;
        text-decoration: none;
    }
    .item a:visited {
        color: dimgray;
    }
    .item strong {
        font-size: 14pt;
        font-weight: normal;
    }
    .item em {
        display: block;
    }
    @media (prefers-color-scheme: dark) {
        .item {
            background: dimgray;
            border: 1pt solid gray;
            color: white;
        }

        .item:hover {
            border: 1pt solid white;
        }

        .item a {
            color: white;
        }

        .item a:visited {
            color: whitesmoke;
        }
    }
    .links li:before {
        content: "üîó";
        font-size: 8pt;
        position: absolute;
        left: -2em;
        top: 6pt;
    }
    .links li.blog:before {
        content: "üóû";
    }
    .links li.book:before {
        content: "üìñ";
    }
    .links li.docs:before {
        content: "üìë";
    }
    .links li.email:before {
        content: "üìß";
    }
    .links li.podcast:before {
        content: "üé§";
    }
    .links li.repo:before {
        content: "üíº";
    }
    .links li.site:before {
        content: "üåê";
    }
    .links li {
        color: black;
        font-size: 12pt;
        left: -2em;
        line-height: 1.4;
        list-style-type: none;
        margin: 0 2em;
        padding: 0.25em;
        position: relative;
        width: 70ex;
    }
    .links li a {
        color: black;
        text-decoration: none;
    }
    .links li a:hover {
        text-decoration: underline;
    }
    .links li a:visited {
        color: dimgray;
    }
    .links time {
        color: gray;
        font: italic 12pt Helvetica, Arial, sans-serif;
        white-space: nowrap;
    }
    @media (prefers-color-scheme: dark) {
        .links li {
            color: white;
        }

        .links li a {
            color: white;
        }

        .links li a:visited {
            color: whitesmoke;
        }

        .links time {
            color: silver;
        }
    }
    .memory_map {
        border-collapse: collapse;
    }
    .memory_map th, .memory_map td {
        border: thin solid black;
        font-family: "Courier New", Courier, monospace;
        padding: 0.25em;
        text-align: center;
        width: 2em;
    }
    .memory_map td.blank {
        border: none;
    }
    @media (prefers-color-scheme: dark) {
        .memory_map th, .memory_map td {
            border: thin solid white;
        }
    }
    .menu {
        background: rgba(192, 192, 192, 0.9); 
        border: 0;
        border-bottom: 2pt solid silver;
        color: white;
        height: 24pt; 
        margin: 0;
        padding: 0;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 10;
    }
    .menu a {
        border: 0;
        color: white;
        display: inline-block;
        font: bold 16pt Helvetica, Arial, sans-serif;
        margin: 4pt 8pt;
        padding: 0;
        text-decoration: none;
    }
    @media (prefers-color-scheme: dark) {
        .menu {
            background: rgba(128, 128, 128, 0.9); 
            border-bottom: 2pt solid gray;
            color: black;
        }

        .menu a {
            color: black;
        }
    }
    .overview h1 {
        text-align: center;
    }
    .title {
        font: 14pt Helvetica, Arial, sans-serif;
    }
    #count {
        width: 4em;
    }
    #random_words {
        background: whitesmoke;
        display: inline-block;
        font-size: 14pt;
        margin: 0;
    }
    @media (prefers-color-scheme: dark) {
        #random_words {
            background: dimgray;
        }
    }
    #random_words {
        padding: 1em 2em;
    }
    #random_words ol {
        margin: 0;
        padding: 0 0 0 1em;
    }
    .generator {
        border: thin solid darkgrey;
    }
</style>
<script src=random_words.js></script>
<nav class=menu>
    <a href=/ >Don McCaughey</a>
</nav>
<section class=overview>
    <h1>Random Words</h1>
    <p>
        <em>Random Words</em> is a small program that chooses random entries
        from <a href=https://github.com/elasticdog/yawl>YAWL</a>, a public
        domain list of 264,097 English words.
</section>
<section class=generator>
    <h1>Results</h1>
    <p id=random_words>
    <form action=./ method=GET>
        <p>
            <label for=count>Number of Words:</label>
            <input id=count name=count type=number value=0>
        <p>
            <label>Format:</label>
            <input id=format_sentence name=format type=radio value=sentence checked>
            <label for=format_sentence>Sentence</label>
            <input id=format_list name=format type=radio value=list>
            <label for=format_list>List</label>
        <p>
            <button>Go</button>
    </form>
</section>
<section id=implementation>
    <h1>Implementation</h1>
    <p>
        <em>Random Words</em> is written in JavaScript and runs in the browser.
        To avoid the need to fetch the whole 2.7 MB YAWL
        <a href=word.list><code>word.list</code></a> file, I've converted
        <code>word.list</code> into a <a href=words.table>table</a> where each
        word is padded with spaces to 45 characters, the length of the
        <a href=https://en.wikipedia.org/wiki/Pneumonoultramicroscopicsilicovolcanoconiosis>longest
        word</a> in the list.
    <p>
        The program uses the
        <a href=https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues><code>getRandomValues()</code></a>
        function to generate a random number in the range [0, 264097) to select
        a word, then uses the HTTP
        <a href=https://tools.ietf.org/html/rfc7233#section-3.1>Range header</a>
        to fetch only that word from the table.
    <p>
        <ul>
            <li><a href=random_words.js>The JavaScript code</a>
            <li><a href=word.list>The YAWL word list</a>
            <li>
                <a href=make_table.py>The Python script to generate the words
                table</a>
            <li><a href=words.table>The table of padded words</a>
        </ul>
</section>
